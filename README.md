# CQUPToolbox

![School](https://img.shields.io/badge/School-CQUPT-green.svg)
![GitHub stars](https://img.shields.io/github/stars/YenalyLiew/CQUPToolbox)
![GitHub forks](https://img.shields.io/github/forks/YenalyLiew/CQUPToolbox)

一个简单实用的CQUPT工具箱。

借助了We重邮，教务在线以及重邮智慧体育的各种接口而诞生的Android软件。

本软件主要采用Kotlin编写，主题为Material3与MaterialComponent混合体。

## 主要功能

### 1 查询空教室（需要内网环境）
直接爬取教务在线的空教室查询，从而获得更准确、更详尽的空教室信息。除**需要内网**以外，大多数方面比We重邮的空教室查询要好。
### 2 智慧体育总览（需要内网环境）
相当于从今日校园上查询到的体育打卡综合信息，但是本软件提供的信息要比今日校园上提供的更详细，可以看到奖励的详细打卡情况。
### 3 智慧体育课外锻炼记录（需要内网环境）
打卡的详细记录。如果是跑步，还同时给你计算了跑步大概的速度，实际打卡圈数。
### 4 智慧体育摄像头采集记录（需要内网环境）
今日校园里查询采集记录只有简单的文字叙述，但在这里不仅有更精确的记录（包括是哪个摄像头），还有采集后自己的人脸照片（还有相似度）。
### 5 一键健康打卡
在确保自己是健康人员后（有提示），只需要点击一下就能免除复杂的填报打卡内容直接进行打卡，**大概率不需要OpenID**。

## 实现

登录是依靠We重邮的绑定接口进行验证学生账号密码是否一致。

空教室查询主要依靠Jsoup对教务在线空教室相关页面的爬虫。

智慧体育相关主要是依靠通过内网登录的Cookie获取相关JSON数据，利用JSON里官方未用的数据优化使用体验。

一键健康打卡通过We重邮的本科生健康打卡接口实现。

## 待实现

1. ~~Paging3运用到分页~~（已实现）。
2. 一键当日内出入校。
3. Flow运用在Repository层而不是LiveData。
4. 优化界面。

## 不足

1. LiveData用的不够完美，存在部分粘性事件。
2. 部分代码臃肿，可以适当优化。
3. 由于教务在线加密，去除了大部分教务在线相关内容，因此部分界面已经不符合预期。
